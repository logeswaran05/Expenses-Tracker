@model IEnumerable<Expenses_Tracker.Models.Expense>


@{
    ViewBag.Title = "Dashboard";
    Layout = "~/Views/Shared/_Layout.cshtml";

    decimal total = 0;
}
<hr />
<div class="row">
    <div class="col-lg-3">
        <button class="btn btn-link">
            @Html.ActionLink("Create New", "AddExpense")
        </button>
    </div>
    <div><h4>Total Expenses : @ViewBag.totalExpenses Rs</h4></div>

</div>
<div class="row">
    <div class="col-lg-9">

        <h3>Expense this month</h3>
        <table class="table">
            <tr>

                <th>
                    @Html.DisplayNameFor(model => model.Name)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Date)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Amount)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ExpenseCategory)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                total = total + item.Amount;

                <tr>

                    <td>
                        @Html.DisplayFor(modelItem => item.Name)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Date)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Amount)
                    </td>

                    <td>
                        @Html.DisplayFor(modelItem => item.ExpenseCategory)
                    </td>
                    <td>
                        @Html.ActionLink("Edit", "EditExpense", new
                        {
                            id = item.Id
            }) |
                        @Html.ActionLink("Delete", "Delete", new { id = item.Id })
                    </td>
                </tr>

            }

        </table>
    </div>
    <div class="col-lg-3">

        <h4>This Month Expanses <br /><span>@total</span> Rs</h4>
    </div>
</div>

